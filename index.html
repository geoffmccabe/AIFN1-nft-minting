<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mint Your AIFN NFT</title>
  <link rel="icon" type="image/x-icon" href="/AIFN1-nft-minting/favicon.ico">
  <!-- Include Rowdies font from Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Rowdies:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: Arial, sans-serif;
      background-image: url('/AIFN1-nft-minting/images/background.webp');
      background-repeat: repeat-y;
      background-position: center top;
      background-size: auto;
      color: black;
      padding: 20px;
      margin: 0;
      display: flex;
      position: relative;
    }
    #version {
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 12px;
      color: #aaa;
      background: rgba(0, 0, 0, 0.5);
      padding: 2px 5px;
      border-radius: 3px;
      z-index: 10;
    }
    #left-panel {
      flex: 1;
      padding-right: 20px;
      padding-top: 30px;
    }
    #right-panel {
      width: 600px;
      padding-left: 20px;
      border-left: 1px solid #444;
    }
    #logo {
      display: block;
      margin: 0 auto 20px;
      width: 600px;
      height: auto;
    }
    h1 {
      text-align: center;
    }
    .trait-section {
      margin-bottom: 20px;
    }
    .trait-header {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }
    .trait-section h2 {
      font-family: 'Rowdies', sans-serif;
      font-weight: 400;
      margin: 0;
      text-align: left;
      flex-grow: 1;
    }
    .trait-controls {
      display: flex;
      gap: 10px;
    }
    .trait-controls span {
      cursor: pointer;
      font-size: 16px;
    }
    .trait-controls span:hover {
      opacity: 0.8;
    }
    .trait-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }
    .variation {
      cursor: pointer;
      border: 2px solid transparent;
      padding: 5px;
    }
    .variation.selected {
      border-color: #4CAF50;
    }
    #preview {
      position: relative;
      width: 600px;
      height: 600px;
      background: url('https://github.com/geoffmccabe/AIFN1-nft-minting/raw/main/images/Preview_Panel_Bkgd_600px.webp');
      background-size: cover;
      margin-bottom: 10px;
      overflow: hidden;
      border: 1px solid black;
      border-radius: 10px;
    }
    #preview img {
      position: absolute;
      max-width: 600px;
      max-height: 600px;
      object-fit: contain;
    }
    #preview-trait1 { z-index: 2; } /* Default z-index, will be adjusted dynamically */
    #preview-trait2 { z-index: 3; }
    #preview-trait3 { z-index: 4; }
    #preview img.dragging {
      box-shadow: 0 0 3px 2px rgba(255, 255, 255, 0.5);
    }
    #controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      margin-top: 5px;
    }
    #coordinates {
      font-size: 14px;
    }
    #coordinates strong {
      font-weight: bold;
    }
    .direction-emoji {
      font-size: 16px;
      cursor: pointer;
      background: none;
      border: none;
      padding: 0;
    }
    .direction-emoji:hover {
      opacity: 0.8;
    }
    button {
      padding: 10px 20px;
      background: grey;
      color: black;
      border: none;
      cursor: pointer;
      font-size: 16px;
      border-radius: 5px;
      margin: 10px 0;
    }
    button:disabled {
      cursor: not-allowed;
      opacity: 0.6;
    }
    button:not(:disabled) {
      background: #4CAF50;
    }
    #status {
      margin-top: 20px;
      font-size: 14px;
      text-align: center;
    }
    #prompt-section {
      margin-top: 10px;
    }
    #prompt-section p {
      margin: 5px 0;
    }
    #prompt-section textarea {
      width: 100%;
      height: 140px;
      resize: none;
      border-radius: 5px; /* Half of 10px */
    }
    #prompt-section label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    #background-details {
      text-align: center;
    }
    #background-image {
      width: 600px;
      height: 600px;
      background: url('https://github.com/geoffmccabe/AIFN1-nft-minting/raw/main/images/Preview_Panel_Bkgd_600px.webp');
      background-size: cover;
      border-radius: 10px;
    }
    input[type="text"] {
      width: 100%;
      padding: 5px;
      border-radius: 5px; /* Half of 10px */
    }
  </style>
  <script src="https://unpkg.com/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script src="config.js"></script>
  <script src="entry.js"></script>
</head>
<body>
  <div id="version">v1.0.63 - 2025-03-24 17:15:00 MDT</div>
  <div id="left-panel">
    <img id="logo" src="https://github.com/geoffmccabe/AIFN1-nft-minting/raw/main/images/Perceptrons_Logo_Perc_Creator_600px.webp" alt="Perceptrons Logo">
    <h1>Mint Your AIFN NFT</h1>
    <div id="mintFeeDisplay">Mint Fee: Loading...</div>
    <div id="trait-container">
      <div id="trait1" class="trait-section">
        <div class="trait-header">
          <h2>Trait 1</h2>
          <div class="trait-controls">
            <span class="up-arrow" data-trait="1">⬆️</span>
            <span class="down-arrow" data-trait="1">⬇️</span>
            <span class="add-remove-trait" data-trait="1">➕</span>
          </div>
        </div>
        <input type="text" id="trait1-name" placeholder="Trait Name (e.g., Eyes)">
        <input type="file" id="trait1-files" accept="image/png,image/webp" multiple>
        <div id="trait1-grid" class="trait-grid"></div>
      </div>
      <div id="trait2" class="trait-section">
        <div class="trait-header">
          <h2>Trait 2</h2>
          <div class="trait-controls">
            <span class="up-arrow" data-trait="2">⬆️</span>
            <span class="down-arrow" data-trait="2">⬇️</span>
            <span class="add-remove-trait" data-trait="2">➕</span>
          </div>
        </div>
        <input type="text" id="trait2-name" placeholder="Trait Name (e.g., Hair)">
        <input type="file" id="trait2-files" accept="image/png,image/webp" multiple>
        <div id="trait2-grid" class="trait-grid"></div>
      </div>
      <div id="trait3" class="trait-section">
        <div class="trait-header">
          <h2>Trait 3</h2>
          <div class="trait-controls">
            <span class="up-arrow" data-trait="3">⬆️</span>
            <span class="down-arrow" data-trait="3">⬇️</span>
            <span class="add-remove-trait" data-trait="3">➕</span>
          </div>
        </div>
        <input type="text" id="trait3-name" placeholder="Trait Name (e.g., Accessories)">
        <input type="file" id="trait3-files" accept="image/png,image/webp" multiple>
        <div id="trait3-grid" class="trait-grid"></div>
      </div>
    </div>
    <div id="background-section">
      <h2>AI Background</h2>
      <div id="prompt-section">
        <label for="base-prompt">Basic Prompt:</label>
        <textarea id="base-prompt" readonly>1girl, shiyang, ((((small breasts)))), (white skull belt buckle, front hair locks, black flat dragon tattoo on right shoulder, black flat dragon tattoo on right arm, red clothes, shoulder tattoo,:1.1), golden jewelry, long hair, earrings, black hair, golden hoop earrings, clothing cutout, ponytail, cleavage cutout, cleavage, bracelet, midriff, cheongsam top, red choli top, navel, makeup, holding, pirate pistol, lips, pirate gun, black shorts, looking at viewer, dynamic pose, ((asian girl)), action pose, 
