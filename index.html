<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mint Your AIFN NFT</title>
  <link rel="icon" type="image/x-icon" href="/AIFN1-nft-minting/favicon.ico">
  <!-- Include Rowdies font from Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Rowdies:wght@300;400;700&display=swap" rel="stylesheet">
  <!-- Include Poppins font for modern look -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-image: url('/AIFN1-nft-minting/images/background.webp');
      background-repeat: repeat-y;
      background-position: center top;
      background-size: 100% auto;
      color: black;
      padding: 20px;
      margin: 0;
      display: flex;
      position: relative;
    }
    #version {
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 12px;
      color: #aaa;
      background: rgba(0, 0, 0, 0.5);
      padding: 2px 5px;
      border-radius: 3px;
      z-index: 10;
    }
    #left-panel {
      flex: 1;
      padding-right: 20px;
      padding-top: 30px;
    }
    #right-panel {
      width: 600px;
      padding-left: 20px;
    }
    #logo {
      display: block;
      margin: 0 auto 20px;
      width: 600px;
      max-width: 600px;
      height: auto;
    }
    /* Adjust logo size for high-DPI screens */
    @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
      #logo {
        width: 300px; /* 600px / 2 to account for DPR 2 */
      }
    }
    .trait-section {
      margin-bottom: 20px;
    }
    .trait-header {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }
    .trait-section h2 {
      font-family: 'Rowdies', sans-serif;
      font-weight: 400;
      margin: 0;
      text-align: left;
      flex-grow: 1;
    }
    .trait-controls {
      display: flex;
      gap: 10px;
    }
    .trait-controls span {
      cursor: pointer;
      font-size: 16px;
      color: #666; /* Grey color for arrows */
    }
    .trait-controls span:hover {
      opacity: 0.8;
    }
    .trait-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }
    .variation-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 5px;
    }
    .variation-container.selected {
      border: 5px solid #f4c149; /* Orange border when selected */
    }
    .variation {
      width: 100px;
      height: 100px;
      object-fit: contain;
    }
    .variation-filename {
      font-size: 10px;
      text-align: center;
      margin-top: 5px;
      word-break: break-all;
    }
    #preview {
      position: relative;
      width: 600px;
      height: 600px;
      background: url('https://github.com/geoffmccabe/AIFN1-nft-minting/raw/main/images/Preview_Panel_Bkgd_600px.webp');
      background-size: 600px 600px;
      margin-bottom: 10px;
      overflow: hidden;
      border: 1px solid black;
      border-radius: 10px;
    }
    #preview img {
      position: absolute;
      max-width: 600px;
      max-height: 600px;
      object-fit: contain;
      display: none;
    }
    #preview img.dragging {
      box-shadow: 0 0 3px 2px rgba(255, 255, 255, 0.5);
    }
    #controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      margin-top: 5px;
    }
    #coordinates {
      font-size: 14px;
    }
    #coordinates strong {
      font-weight: bold;
    }
    .direction-emoji {
      font-size: 16px;
      cursor: pointer;
      background: none;
      border: none;
      padding: 0;
      color: #666; /* Grey color for arrows */
    }
    .direction-emoji:hover {
      opacity: 0.8;
    }
    #preview-samples {
      margin-top: 20px;
    }
    #preview-samples-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
    }
    #preview-samples h2 {
      font-family: 'Rowdies', sans-serif;
      font-weight: 400;
      text-align: left;
      margin: 0;
    }
    #preview-samples-grid {
      display: grid;
      grid-template-columns: repeat(4, 140px);
      grid-template-rows: repeat(5, 140px);
      gap: 13px;
      width: 600px;
    }
    #preview-samples-grid .sample-container {
      position: relative;
      width: 140px;
      height: 140px;
      background: url('https://github.com/geoffmccabe/AIFN1-nft-minting/raw/main/images/Preview_Panel_Bkgd_600px.webp');
      background-size: 140px 140px;
      border: 1px solid black;
      border-radius: 5px;
      overflow: hidden; /* Ensure variants don't overflow the container */
    }
    #preview-samples-grid img {
      position: absolute;
      transform: scale(0.23333); /* 140/600 = 0.23333 */
      transform-origin: top left;
    }
    #update-previews {
      padding: 5px 10px;
      background: #ccc;
      color: black;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
    }
    #update-previews:hover {
      background: #bbb;
    }
    button {
      padding: 10px 20px;
      background: grey;
      color: black;
      border: none;
      cursor: pointer;
      font-size: 16px;
      border-radius: 5px;
      margin: 10px 0;
    }
    button:disabled {
      cursor: not-allowed;
      opacity: 0.6;
    }
    button:not(:disabled) {
      background: #4CAF50;
    }
    #mint-section {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    #mintFeeDisplay {
      font-size: 14px;
    }
    #prompt-section {
      margin-top: 10px;
    }
    #prompt-section p {
      margin: 5px 0;
    }
    #prompt-section textarea {
      width: 100%;
      height: 140px;
      resize: none;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    #prompt-section label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    #background-details {
      text-align: center;
    }
    #background-image {
      width: 600px;
      height: 600px;
      background: url('https://github.com/geoffmccabe/AIFN1-nft-minting/raw/main/images/Preview_Panel_Bkgd_600px.webp');
      background-size: 600px 600px;
      border-radius: 10px;
      border: 1px solid black;
    }
    input[type="text"] {
      width: 100%;
      padding: 5px;
      border-radius: 5px;
      border: 1px solid #ccc;
      margin-bottom: 5px;
    }
    input[type="file"] {
      width: 100%;
    }
    #right-panel h2, #background-section h2 {
      font-family: 'Rowdies', sans-serif;
      font-weight: 400;
      text-align: center;
      margin: 0 0 10px;
    }
    .confirmation-dialog {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 5px;
      z-index: 1000;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    .confirmation-dialog p {
      margin: 0 0 10px;
      text-align: center;
    }
    .confirmation-dialog .buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
    }
    .confirmation-dialog button {
      padding: 5px 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .confirmation-dialog .yes-button {
      background: #739c6c;
    }
    .confirmation-dialog .no-button {
      background: #ae645a;
    }
  </style>
  <script src="https://unpkg.com/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script src="config.js"></script>
  <script src="entry.js"></script>
</head>
<body>
  <div id="version">v1.0.68 - 2025-03-26 17:15:00 MDT</div>
  <div id="left-panel">
    <img id="logo" src="https://github.com/geoffmccabe/AIFN1-nft-minting/raw/main/images/Perceptrons_Logo_Perc_Creator_600px.webp" alt="Perceptrons Logo" width="600">
    <div id="trait-container">
      <!-- Trait groups will be added dynamically -->
    </div>
    <div id="background-section">
      <h2>AI Background</h2>
      <div id="prompt-section">
        <label for="base-prompt">Basic Prompt:</label>
        <textarea id="base-prompt" readonly>1girl, shiyang, ((((small breasts)))), (white skull belt buckle, front hair locks, black flat dragon tattoo on right shoulder, black flat dragon tattoo on right arm, red clothes, shoulder tattoo,:1.1), golden jewelry, long hair, earrings, black hair, golden hoop earrings, clothing cutout, ponytail, cleavage cutout, cleavage, bracelet, midriff, cheongsam top, red choli top, navel, makeup, holding, pirate pistol, lips, pirate gun, black shorts, looking at viewer, dynamic pose, ((asian girl)), action pose, (white skull belt buckle), black dragon tattoo on right shoulder, black dragon tattoo on right arm, ((shoulder tattoo))</textarea>
        <label for="user-prompt">User Prompt:</label>
        <textarea id="user-prompt" placeholder="Add your custom prompt (e.g., 'with a cyberpunk city background')"></textarea>
      </div>
      <button id="generate-background">Generate Bkgd</button>
      <div id="background-details">
        <img id="background-image" src="https://github.com/geoffmccabe/AIFN1-nft-minting/raw/main/images/Preview_Panel_Bkgd_600px.webp" alt="AI Background">
        <p id="background-metadata">Loading...</p>
      </div>
    </div>
    <div id="mint-section">
      <button id="mintButton" disabled>Mint NFT</button>
      <div id="mintFeeDisplay">Mint Fee: Loading...</div>
    </div>
  </div>
  <div id="right-panel">
    <h2>Preview</h2>
    <div id="preview">
      <!-- Preview images will be added dynamically -->
    </div>
    <div id="controls">
      <span id="coordinates"><strong>Coordinates:</strong> (1, 1)</span>
      <span>   </span>
      <span class="direction-emoji" data-direction="up">⬆️</span>
      <span class="direction-emoji" data-direction="down">⬇️</span>
      <span class="direction-emoji" data-direction="left">⬅️</span>
      <span class="direction-emoji" data-direction="right">➡️</span>
    </div>
    <div id="preview-samples">
      <div id="preview-samples-header">
        <h2>PREVIEW SAMPLES</h2>
        <button id="update-previews">UPDATE</button>
      </div>
      <div id="preview-samples-grid">
        <!-- 5x4 grid of preview samples will be added dynamically -->
      </div>
    </div>
  </div>
</body>
</html>
