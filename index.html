<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mint Your AIFN NFT</title>
  <!-- Point to the uploaded favicon -->
  <link rel="icon" type="image/x-icon" href="/AIFN1-nft-minting/favicon.ico">
  <style>
    body {
      font-family: Arial, sans-serif;
      background-image: url('/AIFN1-nft-minting/images/background.webp');
      background-repeat: repeat-y;
      background-position: center top;
      background-size: auto;
      color: black;
      padding: 20px;
      margin: 0;
      display: flex;
      position: relative;
    }
    #version {
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 12px;
      color: #aaa;
      background: rgba(0, 0, 0, 0.5);
      padding: 2px 5px;
      border-radius: 3px;
      z-index: 10;
    }
    #left-panel {
      flex: 1;
      padding-right: 20px;
      padding-top: 30px;
    }
    #right-panel {
      width: 600px;
      padding-left: 20px;
      border-left: 1px solid #444;
    }
    h1, h2 {
      text-align: center;
    }
    .trait-section {
      margin-bottom: 20px;
    }
    .trait-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }
    .variation {
      cursor: pointer;
      border: 2px solid transparent;
      padding: 5px;
    }
    .variation.selected {
      border-color: #4CAF50;
    }
    #preview {
      position: relative;
      width: 600px;
      height: 600px;
      background: #333;
      margin-bottom: 10px;
      overflow: hidden;
      border: 1px solid black;
      border-radius: 5px;
    }
    #preview img {
      position: absolute;
      max-width: 600px;
      max-height: 600px;
      object-fit: contain;
    }
    #preview-background { z-index: 1; }
    #preview-trait1 { z-index: 4; }
    #preview-trait2 { z-index: 3; }
    #preview-trait3 { z-index: 2; }
    #preview img[src="https://archive.org/download/placeholder-image/placeholder-image.jpg"] {
      z-index: 1 !important;
    }
    #preview img.dragging {
      box-shadow: 0 0 3px 2px rgba(255, 255, 255, 0.5); /* Light glow effect while dragging */
    }
    #controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      margin-top: 5px;
    }
    #coordinates {
      font-size: 14px;
    }
    #coordinates strong {
      font-weight: bold;
    }
    .direction-emoji {
      font-size: 16px;
      cursor: pointer;
      background: none;
      border: none;
      padding: 0;
    }
    .direction-emoji:hover {
      opacity: 0.8;
    }
    button {
      padding: 10px 20px;
      background: grey;
      color: black;
      border: none;
      cursor: pointer;
      font-size: 16px;
      border-radius: 5px;
      margin: 10px 0;
    }
    button:disabled {
      cursor: not-allowed;
      opacity: 0.6;
    }
    button:not(:disabled) {
      background: #4CAF50;
    }
    #status {
      margin-top: 20px;
      font-size: 14px;
      text-align: center;
    }
    #prompt-section {
      margin-top: 10px;
    }
    #prompt-section p {
      margin: 5px 0;
    }
    #prompt-section textarea {
      width: 100%;
      height: 140px; /* Increased from 100px to 140px for two more lines */
      resize: none;
    }
    #prompt-section label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
  </style>
  <!-- Load Ethers.js for blockchain interactions -->
  <script src="https://unpkg.com/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <!-- Load config.js -->
  <script src="config.js"></script>
  <!-- Load the application code -->
  <script src="entry.js"></script>
</head>
<body>
  <div id="version">v1.0.63 - 2025-03-24 17:15:00 MDT</div>
  <div id="left-panel">
    <h1>Mint Your AIFN NFT</h1>
    <div id="mintFeeDisplay">Mint Fee: Loading...</div>
    <div id="trait1" class="trait-section">
      <h2>Trait 1</h2>
      <input type="text" id="trait1-name" placeholder="Trait Name (e.g., Eyes)">
      <input type="file" id="trait1-files" accept="image/png,image/webp" multiple>
      <div id="trait1-grid" class="trait-grid"></div>
    </div>
    <div id="trait2" class="trait-section">
      <h2>Trait 2</h2>
      <input type="text" id="trait2-name" placeholder="Trait Name (e.g., Hair)">
      <input type="file" id="trait2-files" accept="image/png,image/webp" multiple>
      <div id="trait2-grid" class="trait-grid"></div>
    </div>
    <div id="trait3" class="trait-section">
      <h2>Trait 3</h2>
      <input type="text" id="trait3-name" placeholder="Trait Name (e.g., Accessories)">
      <input type="file" id="trait3-files" accept="image/png,image/webp" multiple>
      <div id="trait3-grid" class="trait-grid"></div>
    </div>
    <div id="background-section">
      <h2>AI Background</h2>
      <div id="prompt-section">
        <label for="base-prompt">Basic Prompt:</label>
        <textarea id="base-prompt" readonly>1girl, shiyang, ((((small breasts)))), (white skull belt buckle, front hair locks, black flat dragon tattoo on right shoulder, black flat dragon tattoo on right arm, red clothes, shoulder tattoo,:1.1), golden jewelry, long hair, earrings, black hair, golden hoop earrings, clothing cutout, ponytail, cleavage cutout, cleavage, bracelet, midriff, cheongsam top, red choli top, navel, makeup, holding, pirate pistol, lips, pirate gun, black shorts, looking at viewer, dynamic pose, ((asian girl)), action pose, (white skull belt buckle), black dragon tattoo on right shoulder, black dragon tattoo on right arm, ((shoulder tattoo))</textarea>
        <label for="user-prompt">User Prompt:</label>
        <textarea id="user-prompt" placeholder="Add your custom prompt (e.g., 'with a cyberpunk city background')"></textarea>
      </div>
      <button id="generate-background">Generate Bkgd</button>
      <div id="background-details">
        <img id="background-image" src="https://archive.org/download/placeholder-image/placeholder-image.jpg" alt="AI Background">
        <p id="background-metadata">Loading...</p>
      </div>
    </div>
    <button id="mintButton" disabled>Mint NFT</button>
    <div id="status">Select traits to begin.</div>
  </div>
  <div id="right-panel">
    <h2>Preview</h2>
    <div id="preview">
      <img id="preview-background" src="https://archive.org/download/placeholder-image/placeholder-image.jpg" alt="Background">
      <img id="preview-trait1" src="https://archive.org/download/placeholder-image/placeholder-image.jpg" alt="Trait 1">
      <img id="preview-trait2" src="https://archive.org/download/placeholder-image/placeholder-image.jpg" alt="Trait 2">
      <img id="preview-trait3" src="https://archive.org/download/placeholder-image/placeholder-image.jpg" alt="Trait 3">
    </div>
    <div id="controls">
      <span id="coordinates"><strong>Coordinates:</strong> (1, 1)</span>
      <span>   </span>
      <span class="direction-emoji" data-direction="up">⬆️</span>
      <span class="direction-emoji" data-direction="down">⬇️</span>
      <span class="direction-emoji" data-direction="left">⬅️</span>
      <span class="direction-emoji" data-direction="right">➡️</span>
    </div>
  </div>
</body>
</html>
