(()=>{var c=Object.create;var a=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var y=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,o)=>(typeof require<"u"?require:t)[o]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var B=(e,t,o,d)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of g(t))!f.call(e,n)&&n!==o&&a(e,n,{get:()=>t[n],enumerable:!(d=u(t,n))||d.enumerable});return e};var p=(e,t,o)=>(o=e!=null?c(m(e)):{},B(t||!e||!e.__esModule?a(o,"default",{value:e,enumerable:!0}):o,e));var E=p(y("https://cdn.jsdelivr.net/npm/psd.js/dist/psd.min.js"));globalThis.require=()=>(console.warn("Dummy require called."),{});globalThis.exports={};globalThis.module={exports:{}};window.PSD=E;console.log("psd.js loaded:",window.PSD);document.addEventListener("DOMContentLoaded",()=>{console.log("DOM fully loaded. Setting up file input...");let e=document.getElementById("mintFeeDisplay");e&&(e.innerText="Mint Fee: 0.001 ETH"),document.getElementById("psdFile").addEventListener("change",d=>{let n=d.target.files[0];if(!n){document.getElementById("status").innerText="No file selected.";return}console.log(`File selected: ${n.name}, size: ${n.size} bytes`),document.getElementById("status").innerText=`File chosen: ${n.name}`;let r=new FileReader;r.onprogress=i=>{if(i.lengthComputable){let l=(i.loaded/1048576).toFixed(2),s=(i.total/(1024*1024)).toFixed(2);console.log(`Reading file: ${l} / ${s} MB`),document.getElementById("status").innerText=`Reading file: ${l} / ${s} MB`}else console.log("onprogress fired, but length not computable."),document.getElementById("status").innerText="Reading file (unknown size)..."},r.onloadstart=()=>{console.log("File reading started."),document.getElementById("status").innerText="Starting file read..."},r.onerror=()=>{console.error("Error reading file."),document.getElementById("status").innerText="Error reading file."},r.onload=i=>{console.log("File reading complete. Parsing PSD..."),document.getElementById("status").innerText="File read complete. Parsing PSD...",window.PSD.fromArrayBuffer(i.target.result).then(l=>{l.parse(),console.log("Parsed PSD Layers:",l.tree().descendants()),document.getElementById("status").innerText="PSD parsed successfully. Ready to mint!";let s=document.getElementById("mintButton");s.disabled=!1,s.style.backgroundColor="#4CAF50"}).catch(l=>{console.error("Error parsing PSD:",l),document.getElementById("status").innerText="Error parsing PSD: "+l})},console.log("Initiating file read as ArrayBuffer..."),r.readAsArrayBuffer(n)}),document.getElementById("mintButton").addEventListener("click",()=>{console.log("Mint button clicked."),alert("Minting NFT... (placeholder functionality)")})});})();
